/**
* immstruct v1.4.1
* Authors: Mikael Brevik, @torgeir
***************************************/
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.immstruct=t()}}(function(){var t;return function e(t,r,n){function i(u,o){if(!r[u]){if(!t[u]){var a="function"==typeof require&&require;if(!o&&a)return a(u,!0);if(s)return s(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var c=r[u]={exports:{}};t[u][0].call(c.exports,function(e){var r=t[u][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[u].exports}for(var s="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(t,e,r){"use strict";function n(){return this instanceof n?void(this.instances={}):new n}function i(t,e){if("object"==typeof e.key&&(e.data=e.key,e.key=void 0),e.key&&t.instances[e.key])return t.instances[e.key];var r=new s(e);return t.instances[r.key]=r,r}var s=t("./src/structure");n.prototype.get=function(t,e){return i(this,{key:t,data:e})},n.prototype.clear=function(){this.instances={}},n.prototype.remove=function(t){return delete this.instances[t]},n.prototype.withHistory=function(t,e){return i(this,{key:t,data:e,history:!0})};var u=new n;e.exports=function(t,e){return i(u,{key:t,data:e})},e.exports.withHistory=function(t,e){return i(u,{key:t,data:e,history:!0})},e.exports.Structure=s,e.exports.Immstruct=n,e.exports.clear=u.clear.bind(u),e.exports.remove=u.remove.bind(u),Object.defineProperty(e.exports,"instances",{get:function(){return u.instances},enumerable:!0,configurable:!0})},{"./src/structure":6}],2:[function(t,e,r){"use strict";function n(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function i(){}i.prototype._events=void 0,i.prototype.listeners=function(t){if(!this._events||!this._events[t])return[];if(this._events[t].fn)return[this._events[t].fn];for(var e=0,r=this._events[t].length,n=new Array(r);r>e;e++)n[e]=this._events[t][e].fn;return n},i.prototype.emit=function(t,e,r,n,i,s){if(!this._events||!this._events[t])return!1;var u,o,a=this._events[t],h=arguments.length;if("function"==typeof a.fn){switch(a.once&&this.removeListener(t,a.fn,!0),h){case 1:return a.fn.call(a.context),!0;case 2:return a.fn.call(a.context,e),!0;case 3:return a.fn.call(a.context,e,r),!0;case 4:return a.fn.call(a.context,e,r,n),!0;case 5:return a.fn.call(a.context,e,r,n,i),!0;case 6:return a.fn.call(a.context,e,r,n,i,s),!0}for(o=1,u=new Array(h-1);h>o;o++)u[o-1]=arguments[o];a.fn.apply(a.context,u)}else{var c,f=a.length;for(o=0;f>o;o++)switch(a[o].once&&this.removeListener(t,a[o].fn,!0),h){case 1:a[o].fn.call(a[o].context);break;case 2:a[o].fn.call(a[o].context,e);break;case 3:a[o].fn.call(a[o].context,e,r);break;default:if(!u)for(c=1,u=new Array(h-1);h>c;c++)u[c-1]=arguments[c];a[o].fn.apply(a[o].context,u)}}return!0},i.prototype.on=function(t,e,r){var i=new n(e,r||this);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},i.prototype.once=function(t,e,r){var i=new n(e,r||this,!0);return this._events||(this._events={}),this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],i]:this._events[t].push(i):this._events[t]=i,this},i.prototype.removeListener=function(t,e,r){if(!this._events||!this._events[t])return this;var n=this._events[t],i=[];if(e&&(n.fn&&(n.fn!==e||r&&!n.once)&&i.push(n),!n.fn))for(var s=0,u=n.length;u>s;s++)(n[s].fn!==e||r&&!n[s].once)&&i.push(n[s]);return i.length?this._events[t]=1===i.length?i[0]:i:delete this._events[t],this},i.prototype.removeAllListeners=function(t){return this._events?(t?delete this._events[t]:this._events={},this):this},i.prototype.off=i.prototype.removeListener,i.prototype.addListener=i.prototype.on,i.prototype.setMaxListeners=function(){return this},i.EventEmitter=i,i.EventEmitter2=i,i.EventEmitter3=i,e.exports=i},{}],3:[function(t,e,r){function n(t,e,r){return 1===arguments.length?e=[]:"function"==typeof e?(r=e,e=[]):Array.isArray(e)||(e=[e]),u(t,e,r)}function i(t,e,r,n){this.size=n,this._rootData=t,this._keyPath=e,this._onChange=r}function s(t,e,r,n){this.size=n,this._rootData=t,this._keyPath=e,this._onChange=r}function u(t,e,r,n){arguments.length<4&&(n=t.getIn(e));var u=n&&n.size,o=f.isIndexed(n)?s:i;return new o(t,e,r,u)}function o(t,e,r){return f.isIterable(r)?a(t,e,r):r}function a(t,e,r){return u(t._rootData,t._keyPath.concat(e),t._onChange,r)}function h(t,e,r){var n=t._rootData.updateIn(t._keyPath,r?l():void 0,e),i=t._keyPath||[];return t._onChange&&t._onChange.call(void 0,n,t._rootData,r?i.concat(r):i),u(n,t._keyPath,t._onChange)}var c=t("../../"),f=c.Iterable,_=f.Iterator,v=c.Seq,l=c.Map,p=Object.create(v.Keyed.prototype),d=Object.create(v.Indexed.prototype);p.constructor=i,d.constructor=s,p.toString=function(){return this.__toString("Cursor {","}")},d.toString=function(){return this.__toString("Cursor [","]")},p.equals=d.equals=function(t){return c.is(this.deref(),t&&("function"==typeof t.deref?t.deref():t))},p.deref=d.deref=function(t){return this._rootData.getIn(this._keyPath,t)},p.get=p.getIn=d.get=d.getIn=function(t,e){if(Array.isArray(t)&&0===t.length)return this;var r=this._rootData.getIn(this._keyPath.concat(t),y);return r===y?e:o(this,t,r)},d.set=p.set=function(t,e){return h(this,function(r){return r.set(t,e)},t)},p.remove=p["delete"]=d.remove=d["delete"]=function(t){return h(this,function(e){return e.remove(t)},t)},p.clear=d.clear=function(){return h(this,function(t){return t.clear()})},d.update=p.update=function(t,e,r){return 1===arguments.length?h(this,t):h(this,function(n){return n.update(t,e,r)},t)},p.withMutations=d.withMutations=function(t){return h(this,function(e){return(e||l()).withMutations(t)})},p.cursor=d.cursor=function(t){return Array.isArray(t)&&0===t.length?this:a(this,t)},p.__iterate=d.__iterate=function(t,e){var r=this,n=r.deref();return n&&n.__iterate?n.__iterate(function(e,n){return t(o(r,n,e),n,r)},e):0},p.__iterator=d.__iterator=function(t,e){var r=this.deref(),n=this,i=r&&r.__iterator&&r.__iterator(_.ENTRIES,e);return new _(function(){if(!i)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var r=e.value,s=r[0],u=o(n,s,r[1]);return{value:t===_.KEYS?s:t===_.VALUES?u:[s,u],done:!1}})},i.prototype=p,s.prototype=d;var y={};r.from=n},{"../../":4}],4:[function(e,r,n){function i(){function t(t,e,r,n){var i;if(n){var s=n.prototype;i=pe.create(s)}else i=t.prototype;return pe.keys(e).forEach(function(t){i[t]=e[t]}),pe.keys(r).forEach(function(e){t[e]=r[e]}),i.constructor=t,t.prototype=i,t}function e(t,e,r,n){return pe.getPrototypeOf(e)[r].apply(t,n)}function r(t,r,n){e(t,r,"constructor",n)}function n(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t?e!==e:t&&"function"==typeof t.equals?t.equals(e):!1}function i(t,e){if(!t)throw new Error(e)}function s(t){return t.value=!1,t}function u(t){t&&(t.value=!0)}function o(){}function a(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;r>i;i++)n[i]=t[i+e];return n}function h(t){i(t!==1/0,"Cannot perform this action with an infinite size.")}function c(t){return void 0===t.size&&(t.size=t.__iterate(_)),t.size}function f(t,e){return e>=0?+e:c(t)+ +e}function _(){return!0}function v(t,e,r){return(0===t||void 0!==r&&-r>=t)&&(void 0===e||void 0!==r&&e>=r)}function l(t,e){return d(t,e,0)}function p(t,e){return d(t,e,e)}function d(t,e,r){return void 0===t?r:0>t?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}function y(t){if(!t)return 0;if(t===!0)return 1;var e=typeof t;if("number"===e){if((0|t)===t)return t&ke;t=""+t,e="string"}return"string"===e?t.length>Me?g(t):m(t):t.hashCode?y("function"==typeof t.hashCode?t.hashCode():t.hashCode):w(t)}function g(t){var e=Ae[t];return void 0===e&&(e=m(t),De===Oe&&(De=0,Ae={}),De++,Ae[t]=e),e}function m(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)&ke;return e}function w(t){var e=xe&&xe.get(t);if(e)return e;if(e=t[Ee])return e;if(!ze){if(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ee])return e;if(e=S(t))return e}if(Object.isExtensible&&!Object.isExtensible(t))throw new Error("Non-extensible objects are not allowed as keys.");if(e=++qe&ke,xe)xe.set(t,e);else if(ze)Object.defineProperty(t,Ee,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ee]=e;else{if(!t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ee]=e}return e}function S(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function b(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function I(){return{value:void 0,done:!0}}function z(t){return!!q(t)}function x(t){return t&&"function"==typeof t.next}function k(t){var e=q(t);return e&&e.call(t)}function q(t){var e=t&&(Ke&&t[Ke]||t[Le]);return"function"==typeof e?e:void 0}function E(t){return!(!t||!t[Je])}function M(t){return!(!t||!t[Ne])}function O(t){return!(!t||!t[He])}function D(t){return M(t)||O(t)}function A(t,e){return e}function C(t,e){return[e,t]}function R(t){return function(){return!t.apply(this,arguments)}}function j(t){return function(){return-t.apply(this,arguments)}}function L(t){return"string"==typeof t?JSON.stringify(t):t}function K(t,e){return t>e?-1:e>t?1:0}function U(t,e){var r=t.prototype,n=function(t){r[t]=e[t]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function T(t){return!(!t||!t[sr])}function P(){return cr||(cr=new ur([]))}function B(t){var e=Array.isArray(t)?new ur(t).fromEntrySeq():x(t)?new hr(t).fromEntrySeq():z(t)?new ar(t).fromEntrySeq():"object"==typeof t?new or(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function W(t){var e=N(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function J(t){var e=N(t)||"object"==typeof t&&new or(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}function N(t){return H(t)?new ur(t):x(t)?new hr(t):z(t)?new ar(t):void 0}function H(t){return t&&"number"==typeof t.length}function V(t,e,r,n){h(t.size);var i=t._cache;if(i){for(var s=i.length-1,u=0;s>=u;u++){var o=i[r?s-u:u];if(e(o[1],n?o[0]:u,t)===!1)return u+1}return u}return t.__iterateUncached(e,r)}function F(t,e,r,n){var i=t._cache;if(i){var s=i.length-1,u=0;return new Te(function(){var t=i[r?s-u:u];return u++>s?I():b(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function Y(t,e){return e?Q(e,t,"",{"":t}):X(t)}function Q(t,e,r,n){return Array.isArray(e)?t.call(n,r,er(e).map(function(r,n){return Q(t,r,n,e)})):G(e)?t.call(n,r,$e(e).map(function(r,n){return Q(t,r,n,e)})):e}function X(t){return Array.isArray(t)?er(t).map(X).toList():G(t)?$e(t).map(X).toMap():t}function G(t){return t&&t.constructor===Object}function Z(t){return!(!t||!t[mr])}function $(t,e){return b(t,e[0],e[1])}function tt(t,e){return{node:t,index:0,__prev:e}}function et(t,e,r,n){var i=Object.create(wr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function rt(){return Ar||(Ar=et(0))}function nt(t,e,r){var n,i;if(t._root){var u=s(be),o=s(Ie);if(n=it(t._root,t.__ownerID,0,void 0,e,r,u,o),!o.value)return t;i=t.size+(u.value?r===Se?-1:1:0)}else{if(r===Se)return t;i=1,n=new Sr(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?et(i,n):rt()}function it(t,e,r,n,i,s,o,a){return t?t.update(e,r,n,i,s,o,a):s===Se?t:(u(a),u(o),new Mr(e,n,[i,s]))}function st(t){return t.constructor===Mr||t.constructor===qr}function ut(t,e,r,n,i){if(t.keyHash===n)return new qr(e,n,[t.entry,i]);var s,u=(0===r?t.keyHash:t.keyHash>>>r)&we,o=(0===r?n:n>>>r)&we,a=u===o?[ut(t,e,r+ge,n,i)]:(s=new Mr(e,n,i),o>u?[t,s]:[s,t]);return new Ir(e,1<<u|1<<o,a)}function ot(t,e,r,n){t||(t=new o);for(var i=new Mr(t,y(r),[r,n]),s=0;s<e.length;s++){var u=e[s];i=i.update(t,0,void 0,u[0],u[1])}return i}function at(t,e,r,n){for(var i=0,s=0,u=new Array(r),o=0,a=1,h=e.length;h>o;o++,a<<=1){var c=e[o];void 0!==c&&o!==n&&(i|=a,u[s++]=c)}return new Ir(t,i,u)}function ht(t,e,r,n,i){for(var s=0,u=new Array(me),o=0;0!==r;o++,r>>>=1)u[o]=1&r?e[s++]:void 0;return u[n]=i,new xr(t,s+1,u)}function ct(t,e,r){for(var n=[],i=0;i<r.length;i++){var s=r[i],u=Fe(s);E(s)||(u=u.map(function(t){return Y(t)})),n.push(u)}return _t(t,e,n)}function ft(t){return function(e,r){return e&&e.mergeDeepWith&&E(r)?e.mergeDeepWith(t,r):t?t(e,r):r}}function _t(t,e,r){return 0===r.length?t:t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,Se,function(t){return t===Se?r:e(t,r)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)})}function vt(t,e,r,n,s){i(!t||t.set,"updateIn with invalid keyPath");var u=e[s],o=t?t.get(u,Se):Se,a=o===Se?void 0:o,h=s===e.length-1?n(o===Se?r:o):vt(a,e,r,n,s+1);return h===a?t:h===Se?t&&t.remove(u):(t||rt()).set(u,h)}function lt(t){return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,127&t}function pt(t,e,r,n){var i=n?t:a(t);return i[e]=r,i}function dt(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var s=new Array(i),u=0,o=0;i>o;o++)o===e?(s[o]=r,u=-1):s[o]=t[o+u];return s}function yt(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),s=0,u=0;n>u;u++)u===e&&(s=1),i[u]=t[u+s];return i}function gt(t){var e=Ut(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.contains(e)},e.contains=function(e){return t.has(e)},e.cacheResult=Tt,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return e(r,t,n)!==!1},r)},e.__iteratorUncached=function(e,r){if(e===je){var n=t.__iterator(e,r);return new Te(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===Re?Ce:Re,r)},e}function mt(t,e,r){var n=Ut(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var s=t.get(n,Se);return s===Se?i:e.call(r,s,n,t)},n.__iterateUncached=function(n,i){var s=this;return t.__iterate(function(t,i,u){return n(e.call(r,t,i,u),i,s)!==!1},i)},n.__iteratorUncached=function(n,i){var s=t.__iterator(je,i);return new Te(function(){var i=s.next();if(i.done)return i;var u=i.value,o=u[0];return b(n,o,e.call(r,u[1],o,t),i)})},n}function wt(t,e){var r=Ut(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=gt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.contains=function(e){return t.contains(e)},r.cacheResult=Tt,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function St(t,e,r,n){var i=Ut(t);return n&&(i.has=function(n){var i=t.get(n,Se);return i!==Se&&!!e.call(r,i,n,t)},i.get=function(n,i){var s=t.get(n,Se);return s!==Se&&e.call(r,s,n,t)?s:i}),i.__iterateUncached=function(i,s){var u=this,o=0;return t.__iterate(function(t,s,a){return e.call(r,t,s,a)?(o++,i(t,n?s:o-1,u)):void 0},s),o},i.__iteratorUncached=function(i,s){var u=t.__iterator(je,s),o=0;return new Te(function(){for(;;){var s=u.next();if(s.done)return s;var a=s.value,h=a[0],c=a[1];if(e.call(r,c,h,t))return b(i,n?h:o++,c,s)}})},i}function bt(t,e,r){var n=gr().asMutable();return t.__iterate(function(i,s){n.update(e.call(r,i,s,t),0,function(t){return t+1})}),n.asImmutable()}function It(t,e,r){var n=M(t),i=gr().asMutable();t.__iterate(function(s,u){i.update(e.call(r,s,u,t),[],function(t){return t.push(n?[u,s]:s),t})});var s=Kt(t);return i.map(function(e){return Rt(t,s(e))})}function zt(t,e){if(e>t.size)return t;0>e&&(e=0);var r=Ut(t);return r.size=t.size&&Math.min(t.size,e),r.__iterateUncached=function(r,n){var i=this;if(0===e)return 0;if(n)return this.cacheResult().__iterate(r,n);var s=0;return t.__iterate(function(t,n){return++s&&r(t,n,i)!==!1&&e>s}),s},r.__iteratorUncached=function(r,n){if(n)return this.cacheResult().__iterator(r,n);var i=e&&t.__iterator(r,n),s=0;return new Te(function(){return s++>e?I():i.next()})},r}function xt(t,e,r){var n=Ut(t);return n.__iterateUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,o){return e.call(r,t,i,o)&&++u&&n(t,i,s)}),u},n.__iteratorUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(je,i),o=!0;return new Te(function(){if(!o)return I();var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,s)?n===je?t:b(n,a,h,t):(o=!1,I())})},n}function kt(t,e,r){if(0>=e)return t;var n=Ut(t);return n.size=t.size&&Math.max(0,t.size-e),n.__iterateUncached=function(n,i){var s=this;if(i)return this.cacheResult().__iterate(n,i);var u=0,o=!0,a=0;return t.__iterate(function(t,i){return o&&(o=u++<e)?void 0:(a++,n(t,r?i:a-1,s))}),a},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var s=e&&t.__iterator(n,i),u=0,o=0;return new Te(function(){for(;e>u;)u++,s.next();var t=s.next();return r||n===Re?t:n===Ce?b(n,o++,void 0,t):b(n,o++,t.value[1],t)})},n}function qt(t,e,r,n){var i=Ut(t);return i.__iterateUncached=function(i,s){var u=this;if(s)return this.cacheResult().__iterate(i,s);var o=!0,a=0;return t.__iterate(function(t,s,h){return o&&(o=e.call(r,t,s,h))?void 0:(a++,i(t,n?s:a-1,u))}),a},i.__iteratorUncached=function(i,s){var u=this;if(s)return this.cacheResult().__iterator(i,s);var o=t.__iterator(je,s),a=!0,h=0;return new Te(function(){var t,s,c;do{if(t=o.next(),t.done)return n||i===Re?t:i===Ce?b(i,h++,void 0,t):b(i,h++,t.value[1],t);var f=t.value;s=f[0],c=f[1],a&&(a=e.call(r,c,s,u))}while(a);return i===je?t:b(i,s,c,t)})},i}function Et(t,e){var r=M(t),n=new ur([t].concat(e)).map(function(t){return E(t)?r&&(t=Fe(t)):t=r?B(t):W(Array.isArray(t)?t:[t]),t});r?n=n.toKeyedSeq():O(t)||(n=n.toSetSeq());var i=n.flatten(!0);return i.size=n.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),i}function Mt(t,e,r){var n=Ut(t);return n.__iterateUncached=function(n,i){function s(t,a){var h=this;t.__iterate(function(t,i){return(!e||e>a)&&E(t)?s(t,a+1):n(t,r?i:u++,h)===!1&&(o=!0),!o},i)}var u=0,o=!1;return s(t,0),u},n.__iteratorUncached=function(n,i){var s=t.__iterator(n,i),u=[],o=0;return new Te(function(){for(;s;){var t=s.next();if(t.done===!1){var a=t.value;if(n===je&&(a=a[1]),e&&!(u.length<e)||!E(a))return r?t:b(n,o++,a,t);u.push(s),s=a.__iterator(n,i)}else s=u.pop()}return I()})},n}function Ot(t,e,r){var n=Kt(t);return t.toSeq().map(function(i,s){return n(e.call(r,i,s,t))}).flatten(!0)}function Dt(t,e){var r=Ut(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,s=0;return t.__iterate(function(t,n){return(!s||r(e,s++,i)!==!1)&&r(t,s++,i)!==!1},n),s},r.__iteratorUncached=function(r,n){var i,s=t.__iterator(Re,n),u=0;return new Te(function(){return(!i||u%2)&&(i=s.next(),i.done)?i:u%2?b(r,u++,e):b(r,u++,i.value,i)})},r}function At(t,e,r){e||(e=Pt);var n=M(t),i=0,s=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return s.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){s[e].length=2}:function(t,e){s[e]=t[1]}),n?$e(s):O(t)?er(s):nr(s)}function Ct(t,e,r){if(e||(e=Pt),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return e(r[1],t[1])>0?r:t});return n&&n[0]}return t.reduce(function(t,r){return e(r,t)>0?r:t})}function Rt(t,e){return T(t)?e:t.constructor(e)}function jt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Lt(t){return h(t.size),c(t)}function Kt(t){return M(t)?Fe:O(t)?Qe:Xe}function Ut(t){return Object.create((M(t)?$e:O(t)?er:nr).prototype)}function Tt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Ge.prototype.cacheResult.call(this)}function Pt(t,e){return t>e?1:e>t?-1:0}function Bt(t){return!(!t||!t[Br])}function Wt(t,e,r,n,i,s){var u,o=t&&t.array;if(0===e){var a=0>r?-r:0,h=n-r;for(h>me&&(h=me),u=a;h>u;u++)if(i(o&&o[s?a+h-1-u:u])===!1)return!1}else{var c=1<<e,f=e-ge;for(u=0;we>=u;u++){var _=s?we-u:u,v=r+(_<<e);if(n>v&&v+c>0){var l=o&&o[_];if(!Wt(l,f,v,n,i,s))return!1}}}return!0}function Jt(t,e,r,n,i){return{array:t,level:e,offset:r,max:n,rawMax:n-r>>e,index:0,__prev:i}}function Nt(t,e,r,n,i,s,u){var o=Object.create(Wr);return o.size=e-t,o._origin=t,o._capacity=e,o._level=r,o._root=n,o._tail=i,o.__ownerID=s,o.__hash=u,o.__altered=!1,o}function Ht(){return Vr||(Vr=Nt(0,0,ge))}function Vt(t,e,r){if(e=f(t,e),e>=t.size||0>e)return t.withMutations(function(t){0>e?Xt(t,e).set(0,r):Xt(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,u=s(Ie);return e>=Zt(t._capacity)?n=Ft(n,t.__ownerID,0,e,r,u):i=Ft(i,t.__ownerID,t._level,e,r,u),u.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):Nt(t._origin,t._capacity,t._level,i,n):t}function Ft(t,e,r,n,i,s){var o=n>>>r&we,a=t&&o<t.array.length;if(!a&&void 0===i)return t;var h;if(r>0){var c=t&&t.array[o],f=Ft(c,e,r-ge,n,i,s);return f===c?t:(h=Yt(t,e),h.array[o]=f,h)}return a&&t.array[o]===i?t:(u(s),h=Yt(t,e),void 0===i&&o===h.array.length-1?h.array.pop():h.array[o]=i,h)}function Yt(t,e){return e&&t&&e===t.ownerID?t:new Jr(t?t.array.slice():[],e)}function Qt(t,e){if(e>=Zt(t._capacity))return t._tail;if(e<1<<t._level+ge){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&we],n-=ge;return r}}function Xt(t,e,r){var n=t.__ownerID||new o,i=t._origin,s=t._capacity,u=i+e,a=void 0===r?s:0>r?s+r:i+r;if(u===i&&a===s)return t;if(u>=a)return t.clear();for(var h=t._level,c=t._root,f=0;0>u+f;)c=new Jr(c&&c.array.length?[void 0,c]:[],n),h+=ge,f+=1<<h;f&&(u+=f,i+=f,a+=f,s+=f);for(var _=Zt(s),v=Zt(a);v>=1<<h+ge;)c=new Jr(c&&c.array.length?[c]:[],n),h+=ge;var l=t._tail,p=_>v?Qt(t,a-1):v>_?new Jr([],n):l;if(l&&v>_&&s>u&&l.array.length){c=Yt(c,n);for(var d=c,y=h;y>ge;y-=ge){var g=_>>>y&we;d=d.array[g]=Yt(d.array[g],n)}d.array[_>>>ge&we]=l}if(s>a&&(p=p&&p.removeAfter(n,0,a)),u>=v)u-=v,a-=v,h=ge,c=null,p=p&&p.removeBefore(n,0,u);else if(u>i||_>v){for(f=0;c;){var m=u>>>h&we;if(m!==v>>>h&we)break;m&&(f+=(1<<h)*m),h-=ge,c=c.array[m]}c&&u>i&&(c=c.removeBefore(n,h,u-f)),c&&_>v&&(c=c.removeAfter(n,h,v-f)),f&&(u-=f,a-=f)}return t.__ownerID?(t.size=a-u,t._origin=u,t._capacity=a,t._level=h,t._root=c,t._tail=p,t.__hash=void 0,t.__altered=!0,t):Nt(u,a,h,c,p)}function Gt(t,e,r){for(var n=[],i=0,s=0;s<r.length;s++){var u=r[s],o=Qe(u);o.size>i&&(i=o.size),E(u)||(o=o.map(function(t){return Y(t)})),n.push(o)}return i>t.size&&(t=t.setSize(i)),_t(t,e,n)}function Zt(t){return me>t?0:t-1>>>ge<<ge}function $t(t){return!(!t||!t[Yr])}function te(t,e,r,n){var i=Object.create(Fr.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function ee(){return Qr||(Qr=te(rt(),Ht()))}function re(t,e,r){var n,i,s=t._map,u=t._list,o=s.get(e),a=void 0!==o;if(r===Se){if(!a)return t;u.size>=me&&u.size>=2*s.size?(i=u.filter(function(t,e){return void 0!==t&&o!==e}),n=i.toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=s.remove(e),i=o===u.size-1?u.pop():u.set(o,void 0))}else if(a){if(r===u.get(o)[1])return t;n=s,i=u.set(o,[e,r])}else n=s.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):te(n,i)}function ne(t){return!(!t||!t[Zr])}function ie(t,e,r,n){var i=Object.create($r);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function se(){return tn||(tn=ie(0))}function ue(t){return!(!t||!t[rn])}function oe(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function ae(t,e){var r=Object.create(nn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function he(){return sn||(sn=ae(rt()))}function ce(t){return!(!t||!t[on])}function fe(t,e){var r=Object.create(an);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function _e(){return hn||(hn=fe(ee()))}function ve(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function le(t){return t._name||t.constructor.name}var pe=Object,de={};de.createClass=t,de.superCall=e,de.defaultSuperCall=r;var ye="delete",ge=5,me=1<<ge,we=me-1,Se={},be={value:!1},Ie={value:!1},ze=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}(),xe="function"==typeof WeakMap&&new WeakMap,ke=2147483647,qe=0,Ee="__immutablehash__";"function"==typeof Symbol&&(Ee=Symbol(Ee));var Me=16,Oe=255,De=0,Ae={},Ce=0,Re=1,je=2,Le="@@iterator",Ke="function"==typeof Symbol&&Symbol.iterator,Ue=Ke||Le,Te=function(t){this.next=t};de.createClass(Te,{toString:function(){return"[Iterator]"}},{}),Te.KEYS=Ce,Te.VALUES=Re,Te.ENTRIES=je;var Pe=Te.prototype;Pe.inspect=Pe.toSource=function(){return this.toString()},Pe[Ue]=function(){return this};var Be=function(t){return E(t)?t:Ge(t)},We=Be;de.createClass(Be,{toArray:function(){h(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new Kr(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toKeyedSeq:function(){return new Lr(this,!0)},toMap:function(){return h(this.size),gr(this.toKeyedSeq())},toObject:function(){h(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return h(this.size),Fr(this.toKeyedSeq())},toOrderedSet:function(){return h(this.size),un(M(this)?this.valueSeq():this)},toSet:function(){return h(this.size),en(M(this)?this.valueSeq():this)},toSetSeq:function(){return new Ur(this)},toSeq:function(){return O(this)?this.toIndexedSeq():M(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return h(this.size),Xr(M(this)?this.valueSeq():this)},toList:function(){return h(this.size),Pr(M(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rt(this,Et(this,t))},contains:function(t){return this.some(function(e){return n(e,t)})},entries:function(){return this.__iterator(je)},every:function(t,e){var r=!0;return this.__iterate(function(n,i,s){return t.call(e,n,i,s)?void 0:(r=!1,!1)}),r},filter:function(t,e){return Rt(this,St(this,t,e,!0))},find:function(t,e,r){var n=r;return this.__iterate(function(r,i,s){return t.call(e,r,i,s)?(n=r,!1):void 0}),n},forEach:function(t,e){return this.__iterate(e?t.bind(e):t)},join:function(t){t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!==n&&void 0!==n?n:""}),e},keys:function(){return this.__iterator(Ce)},map:function(t,e){return Rt(this,mt(this,t,e))},reduce:function(t,e,r){var n,i;return arguments.length<2?i=!0:n=e,this.__iterate(function(e,s,u){i?(i=!1,n=e):n=t.call(r,n,e,s,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Rt(this,wt(this,!0))},slice:function(t,e){if(v(t,e,this.size))return this;var r=l(t,this.size),n=p(e,this.size);if(r!==r||n!==n)return this.toSeq().cacheResult().slice(t,e);var i=0===r?this:this.skip(r);return Rt(this,void 0===n||n===this.size?i:i.take(n-r))},some:function(t,e){return!this.every(R(t),e)},sort:function(t){return Rt(this,At(this,t))},values:function(){return this.__iterator(Re)},butLast:function(){return this.slice(0,-1)},count:function(t,e){return c(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return bt(this,t,e)},equals:function(t){if(this===t)return!0;if(!t||"function"!=typeof t.equals)return!1;if(void 0!==this.size&&void 0!==t.size){if(this.size!==t.size)return!1;if(0===this.size&&0===t.size)return!0}return void 0!==this.__hash&&void 0!==t.__hash&&this.__hash!==t.__hash?!1:this.__deepEquals(t)},__deepEquals:function(t){var e=this.entries();return"function"==typeof t.every&&t.every(function(t,r){var i=e.next().value;return i&&n(i[0],r)&&n(i[1],t)})&&e.next().done},entrySeq:function(){var t=this;if(t._cache)return new ur(t._cache);var e=t.toSeq().map(C).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(R(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(_)},flatMap:function(t,e){return Rt(this,Ot(this,t,e))},flatten:function(t){return Rt(this,Mt(this,t,!0))},fromEntrySeq:function(){return new Tr(this)},get:function(t,e){return this.find(function(e,r){return n(r,t)},void 0,e)},getIn:function(t,e){var r=this;if(t)for(var n=0;n<t.length;n++)if(r=r&&r.get?r.get(t[n],Se):Se,r===Se)return e;return r},groupBy:function(t,e){return It(this,t,e)},has:function(t){return this.get(t,Se)!==Se},isSubset:function(t){return t="function"==typeof t.contains?t:We(t),this.every(function(e){return t.contains(e)})},isSuperset:function(t){return t.isSubset(this)},keySeq:function(){return this.toSeq().map(A).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Ct(this,t)},maxBy:function(t,e){return Ct(this,e,t)},min:function(t){return Ct(this,t?j(t):K)},minBy:function(t,e){return Ct(this,e?j(e):K,t)},rest:function(){return this.slice(1)},skip:function(t){return Rt(this,kt(this,t,!0))},skipLast:function(t){return Rt(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Rt(this,qt(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(R(t),e)},sortBy:function(t,e){return Rt(this,At(this,e,t))},take:function(t){return Rt(this,zt(this,t))},takeLast:function(t){return Rt(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Rt(this,xt(this,t,e))},takeUntil:function(t,e){return this.takeWhile(R(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=this.size===1/0?0:this.reduce(function(t,e,r){return t+(y(e)^(e===r?0:y(r)))&ke},0))}},{});var Je="@@__IMMUTABLE_ITERABLE__@@",Ne="@@__IMMUTABLE_KEYED__@@",He="@@__IMMUTABLE_INDEXED__@@",Ve=Be.prototype;Ve[Je]=!0,Ve[Ue]=Ve.values,Ve.toJSON=Ve.toJS,Ve.__toJS=Ve.toArray,Ve.__toStringMapper=L,Ve.inspect=Ve.toSource=function(){return this.toString()},Ve.chain=Ve.flatMap,function(){try{Object.defineProperty(Ve,"length",{get:function(){if(!Be.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}();var Fe=function(t){return M(t)?t:$e(t)};de.createClass(Fe,{flip:function(){return Rt(this,gt(this))},findKey:function(t,e){var r;return this.__iterate(function(n,i,s){return t.call(e,n,i,s)?(r=i,!1):void 0}),r},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return n(e,t)})},lastKeyOf:function(t){return this.toSeq().reverse().keyOf(t)},mapEntries:function(t,e){var r=this,n=0;return Rt(this,this.toSeq().map(function(i,s){return t.call(e,[s,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Rt(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}},{},Be);var Ye=Fe.prototype;Ye[Ne]=!0,Ye[Ue]=Ve.entries,Ye.__toJS=Ve.toObject,Ye.__toStringMapper=function(t,e){return e+": "+L(t)};var Qe=function(t){return O(t)?t:er(t)};de.createClass(Qe,{toKeyedSeq:function(){return new Lr(this,!1);
},filter:function(t,e){return Rt(this,St(this,t,e,!1))},findIndex:function(t,e){var r=this.toKeyedSeq().findKey(t,e);return void 0===r?-1:r},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return Rt(this,wt(this,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=l(t,this.size);var n=this.slice(0,t);return Rt(this,1===r?n:n.concat(a(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return Rt(this,Mt(this,t,!1))},get:function(t,e){return t=f(this,t),0>t||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return t=f(this,t),t>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Rt(this,Dt(this,t))},last:function(){return this.get(-1)},skip:function(t){var e=this,r=kt(e,t,!1);return T(e)&&r!==e&&(r.get=function(r,n){return r=f(this,r),r>=0?e.get(r+t,n):n}),Rt(this,r)},skipWhile:function(t,e){return Rt(this,qt(this,t,e,!1))},take:function(t){var e=this,r=zt(e,t);return T(e)&&r!==e&&(r.get=function(r,n){return r=f(this,r),r>=0&&t>r?e.get(r,n):n}),Rt(this,r)}},{},Be),Qe.prototype[He]=!0;var Xe=function(t){return E(t)&&!D(t)?t:nr(t)};de.createClass(Xe,{get:function(t,e){return this.has(t)?t:e},contains:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}},{},Be),Xe.prototype.has=Ve.contains,Be.isIterable=E,Be.isKeyed=M,Be.isIndexed=O,Be.isAssociative=D,Be.Keyed=Fe,Be.Indexed=Qe,Be.Set=Xe,Be.Iterator=Te;var Ge=function(t){return null===t||void 0===t?P():E(t)?t.toSeq():J(t)},Ze=Ge;de.createClass(Ge,{toSeq:function(){return this},toString:function(){return this.__toString("Seq {","}")},cacheResult:function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},__iterate:function(t,e){return V(this,t,e,!0)},__iterator:function(t,e){return F(this,t,e,!0)}},{of:function(){return Ze(arguments)}},Be);var $e=function(t){return null===t||void 0===t?P().toKeyedSeq():E(t)?M(t)?t.toSeq():t.fromEntrySeq():B(t)},tr=$e;de.createClass($e,{toKeyedSeq:function(){return this},toSeq:function(){return this}},{of:function(){return tr(arguments)}},Ge),U($e,Fe.prototype);var er=function(t){return null===t||void 0===t?P():E(t)?M(t)?t.entrySeq():t.toIndexedSeq():W(t)},rr=er;de.createClass(er,{toIndexedSeq:function(){return this},toString:function(){return this.__toString("Seq [","]")},__iterate:function(t,e){return V(this,t,e,!1)},__iterator:function(t,e){return F(this,t,e,!1)}},{of:function(){return rr(arguments)}},Ge),U(er,Qe.prototype);var nr=function(t){return(null===t||void 0===t?P():E(t)?M(t)?t.entrySeq():t:W(t)).toSetSeq()},ir=nr;de.createClass(nr,{toSetSeq:function(){return this}},{of:function(){return ir(arguments)}},Ge),U(nr,Xe.prototype),Ge.isSeq=T,Ge.Keyed=$e,Ge.Set=nr,Ge.Indexed=er;var sr="@@__IMMUTABLE_SEQ__@@";Ge.prototype[sr]=!0;var ur=function(t){this._array=t,this.size=t.length};de.createClass(ur,{get:function(t,e){return this.has(t)?this._array[f(this,t)]:e},__iterate:function(t,e){for(var r=this._array,n=r.length-1,i=0;n>=i;i++)if(t(r[e?n-i:i],i,this)===!1)return i+1;return i},__iterator:function(t,e){var r=this._array,n=r.length-1,i=0;return new Te(function(){return i>n?I():b(t,i,r[e?n-i++:i++])})}},{},er);var or=function(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length};de.createClass(or,{get:function(t,e){return void 0===e||this.has(t)?this._object[t]:e},has:function(t){return this._object.hasOwnProperty(t)},__iterate:function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,s=0;i>=s;s++){var u=n[e?i-s:s];if(t(r[u],u,this)===!1)return s+1}return s},__iterator:function(t,e){var r=this._object,n=this._keys,i=n.length-1,s=0;return new Te(function(){var u=n[e?i-s:s];return s++>i?I():b(t,u,r[u])})}},{},$e);var ar=function(t){this._iterable=t,this.size=t.length||t.size};de.createClass(ar,{__iterateUncached:function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=this._iterable,n=k(r),i=0;if(x(n))for(var s;!(s=n.next()).done&&t(s.value,i++,this)!==!1;);return i},__iteratorUncached:function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterable,n=k(r);if(!x(n))return new Te(I);var i=0;return new Te(function(){var e=n.next();return e.done?e:b(t,i++,e.value)})}},{},er);var hr=function(t){this._iterator=t,this._iteratorCache=[]};de.createClass(hr,{__iterateUncached:function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r=this._iterator,n=this._iteratorCache,i=0;i<n.length;)if(t(n[i],i++,this)===!1)return i;for(var s;!(s=r.next()).done;){var u=s.value;if(n[i]=u,t(u,i++,this)===!1)break}return i},__iteratorUncached:function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new Te(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return b(t,i,n[i++])})}},{},er);var cr,fr=function(){throw TypeError("Abstract")};de.createClass(fr,{},{},Be);var _r=function(){de.defaultSuperCall(this,vr.prototype,arguments)},vr=_r;de.createClass(_r,{},{},fr),U(_r,Fe.prototype);var lr=function(){de.defaultSuperCall(this,pr.prototype,arguments)},pr=lr;de.createClass(lr,{},{},fr),U(lr,Qe.prototype);var dr=function(){de.defaultSuperCall(this,yr.prototype,arguments)},yr=dr;de.createClass(dr,{},{},fr),U(dr,Xe.prototype),fr.Keyed=_r,fr.Indexed=lr,fr.Set=dr;var gr=function(t){return null===t||void 0===t?rt():Z(t)?t:rt().merge(Fe(t))};de.createClass(gr,{toString:function(){return this.__toString("Map {","}")},get:function(t,e){return this._root?this._root.get(0,void 0,t,e):e},set:function(t,e){return nt(this,t,e)},setIn:function(t,e){return i(t.length>0,"Requires non-empty key path."),this.updateIn(t,function(){return e})},remove:function(t){return nt(this,t,Se)},removeIn:function(t){return i(t.length>0,"Requires non-empty key path."),this.updateIn(t,function(){return Se})},update:function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},updateIn:function(t,e,r){return r||(r=e,e=void 0),0===t.length?r(this):vt(this,t,e,r,0)},clear:function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):rt()},merge:function(){return ct(this,void 0,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return ct(this,t,e)},mergeDeep:function(){return ct(this,ft(void 0),arguments)},mergeDeepWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return ct(this,ft(t),e)},sort:function(t){return Fr(At(this,t))},sortBy:function(t,e){return Fr(At(this,e,t))},withMutations:function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},asMutable:function(){return this.__ownerID?this:this.__ensureOwner(new o)},asImmutable:function(){return this.__ensureOwner()},wasAltered:function(){return this.__altered},__iterator:function(t,e){return new Dr(this,t,e)},__iterate:function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},__ensureOwner:function(t){return t===this.__ownerID?this:t?et(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)}},{},_r),gr.isMap=Z;var mr="@@__IMMUTABLE_MAP__@@",wr=gr.prototype;wr[mr]=!0,wr[ye]=wr.remove;var Sr=function(t,e){this.ownerID=t,this.entries=e},br=Sr;de.createClass(Sr,{get:function(t,e,r,i){for(var s=this.entries,u=0,o=s.length;o>u;u++)if(n(r,s[u][0]))return s[u][1];return i},update:function(t,e,r,i,s,o,h){for(var c=s===Se,f=this.entries,_=0,v=f.length;v>_&&!n(i,f[_][0]);_++);var l=v>_;if(l?f[_][1]===s:c)return this;if(u(h),(c||!l)&&u(o),!c||1!==f.length){if(!l&&!c&&f.length>=Cr)return ot(t,f,i,s);var p=t&&t===this.ownerID,d=p?f:a(f);return l?c?_===v-1?d.pop():d[_]=d.pop():d[_]=[i,s]:d.push([i,s]),p?(this.entries=d,this):new br(t,d)}}},{});var Ir=function(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r},zr=Ir;de.createClass(Ir,{get:function(t,e,r,n){void 0===e&&(e=y(r));var i=1<<((0===t?e:e>>>t)&we),s=this.bitmap;return 0===(s&i)?n:this.nodes[lt(s&i-1)].get(t+ge,e,r,n)},update:function(t,e,r,n,i,s,u){void 0===r&&(r=y(n));var o=(0===e?r:r>>>e)&we,a=1<<o,h=this.bitmap,c=0!==(h&a);if(!c&&i===Se)return this;var f=lt(h&a-1),_=this.nodes,v=c?_[f]:void 0,l=it(v,t,e+ge,r,n,i,s,u);if(l===v)return this;if(!c&&l&&_.length>=Rr)return ht(t,_,h,o,l);if(c&&!l&&2===_.length&&st(_[1^f]))return _[1^f];if(c&&l&&1===_.length&&st(l))return l;var p=t&&t===this.ownerID,d=c?l?h:h^a:h|a,g=c?l?pt(_,f,l,p):yt(_,f,p):dt(_,f,l,p);return p?(this.bitmap=d,this.nodes=g,this):new zr(t,d,g)}},{});var xr=function(t,e,r){this.ownerID=t,this.count=e,this.nodes=r},kr=xr;de.createClass(xr,{get:function(t,e,r,n){void 0===e&&(e=y(r));var i=(0===t?e:e>>>t)&we,s=this.nodes[i];return s?s.get(t+ge,e,r,n):n},update:function(t,e,r,n,i,s,u){void 0===r&&(r=y(n));var o=(0===e?r:r>>>e)&we,a=i===Se,h=this.nodes,c=h[o];if(a&&!c)return this;var f=it(c,t,e+ge,r,n,i,s,u);if(f===c)return this;var _=this.count;if(c){if(!f&&(_--,jr>_))return at(t,h,_,o)}else _++;var v=t&&t===this.ownerID,l=pt(h,o,f,v);return v?(this.count=_,this.nodes=l,this):new kr(t,_,l)}},{});var qr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r},Er=qr;de.createClass(qr,{get:function(t,e,r,i){for(var s=this.entries,u=0,o=s.length;o>u;u++)if(n(r,s[u][0]))return s[u][1];return i},update:function(t,e,r,i,s,o,h){void 0===r&&(r=y(i));var c=s===Se;if(r!==this.keyHash)return c?this:(u(h),u(o),ut(this,t,e,r,[i,s]));for(var f=this.entries,_=0,v=f.length;v>_&&!n(i,f[_][0]);_++);var l=v>_;if(l?f[_][1]===s:c)return this;if(u(h),(c||!l)&&u(o),c&&2===v)return new Mr(t,this.keyHash,f[1^_]);var p=t&&t===this.ownerID,d=p?f:a(f);return l?c?_===v-1?d.pop():d[_]=d.pop():d[_]=[i,s]:d.push([i,s]),p?(this.entries=d,this):new Er(t,this.keyHash,d)}},{});var Mr=function(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r},Or=Mr;de.createClass(Mr,{get:function(t,e,r,i){return n(r,this.entry[0])?this.entry[1]:i},update:function(t,e,r,i,s,o,a){var h=s===Se,c=n(i,this.entry[0]);return(c?s===this.entry[1]:h)?this:(u(a),h?void u(o):c?t&&t===this.ownerID?(this.entry[1]=s,this):new Or(t,this.keyHash,[i,s]):(u(o),ut(this,t,e,y(i),[i,s])))}},{}),Sr.prototype.iterate=qr.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;i>=n;n++)if(t(r[e?i-n:n])===!1)return!1},Ir.prototype.iterate=xr.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;i>=n;n++){var s=r[e?i-n:n];if(s&&s.iterate(t,e)===!1)return!1}},Mr.prototype.iterate=function(t,e){return t(this.entry)};var Dr=function(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&tt(t._root)};de.createClass(Dr,{next:function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return $(t,n.entry)}else if(n.entries){if(r=n.entries.length-1,r>=i)return $(t,n.entries[this._reverse?r-i:i])}else if(r=n.nodes.length-1,r>=i){var s=n.nodes[this._reverse?r-i:i];if(s){if(s.entry)return $(t,s.entry);e=this._stack=tt(s,e)}continue}e=this._stack=this._stack.__prev}return I()}},{},Te);var Ar,Cr=me/4,Rr=me/2,jr=me/4,Lr=function(t,e){this._iter=t,this._useKeys=e,this.size=t.size};de.createClass(Lr,{get:function(t,e){return this._iter.get(t,e)},has:function(t){return this._iter.has(t)},valueSeq:function(){return this._iter.valueSeq()},reverse:function(){var t=this,e=wt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},map:function(t,e){var r=this,n=mt(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},__iterate:function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?Lt(this):0,function(i){return t(i,e?--r:r++,n)}),e)},__iterator:function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(Re,e),n=e?Lt(this):0;return new Te(function(){var i=r.next();return i.done?i:b(t,e?--n:n++,i.value,i)})}},{},$e);var Kr=function(t){this._iter=t,this.size=t.size};de.createClass(Kr,{contains:function(t){return this._iter.contains(t)},__iterate:function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},__iterator:function(t,e){var r=this._iter.__iterator(Re,e),n=0;return new Te(function(){var e=r.next();return e.done?e:b(t,n++,e.value,e)})}},{},er);var Ur=function(t){this._iter=t,this.size=t.size};de.createClass(Ur,{has:function(t){return this._iter.contains(t)},__iterate:function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},__iterator:function(t,e){var r=this._iter.__iterator(Re,e);return new Te(function(){var e=r.next();return e.done?e:b(t,e.value,e.value,e)})}},{},nr);var Tr=function(t){this._iter=t,this.size=t.size};de.createClass(Tr,{entrySeq:function(){return this._iter.toSeq()},__iterate:function(t,e){var r=this;return this._iter.__iterate(function(e){return e?(jt(e),t(e[1],e[0],r)):void 0},e)},__iterator:function(t,e){var r=this._iter.__iterator(Re,e);return new Te(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n)return jt(n),t===je?e:b(t,n[0],n[1],e)}})}},{},$e),Kr.prototype.cacheResult=Lr.prototype.cacheResult=Ur.prototype.cacheResult=Tr.prototype.cacheResult=Tt;var Pr=function(t){var e=Ht();if(null===t||void 0===t)return e;if(Bt(t))return t;t=Qe(t);var r=t.size;return 0===r?e:r>0&&me>r?Nt(0,r,ge,null,new Jr(t.toArray())):e.merge(t)};de.createClass(Pr,{toString:function(){return this.__toString("List [","]")},get:function(t,e){if(t=f(this,t),0>t||t>=this.size)return e;t+=this._origin;var r=Qt(this,t);return r&&r.array[t&we]},set:function(t,e){return Vt(this,t,e)},remove:function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},clear:function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ge,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Ht()},push:function(){var t=arguments,e=this.size;return this.withMutations(function(r){Xt(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},pop:function(){return Xt(this,0,-1)},unshift:function(){var t=arguments;return this.withMutations(function(e){Xt(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},shift:function(){return Xt(this,1)},merge:function(){return Gt(this,void 0,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Gt(this,t,e)},mergeDeep:function(){return Gt(this,ft(void 0),arguments)},mergeDeepWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return Gt(this,ft(t),e)},setSize:function(t){return Xt(this,0,t)},slice:function(t,e){var r=this.size;return v(t,e,r)?this:Xt(this,l(t,r),p(e,r))},__iterator:function(t,e){return new Hr(this,t,e)},__iterate:function(t,e){var r=this,n=0,i=function(e){return t(e,n++,r)},s=Zt(this._capacity);return e?Wt(this._tail,0,s-this._origin,this._capacity-this._origin,i,e)&&Wt(this._root,this._level,-this._origin,s-this._origin,i,e):Wt(this._root,this._level,-this._origin,s-this._origin,i,e)&&Wt(this._tail,0,s-this._origin,this._capacity-this._origin,i,e),n},__ensureOwner:function(t){return t===this.__ownerID?this:t?Nt(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)}},{of:function(){return this(arguments)}},lr),Pr.isList=Bt;var Br="@@__IMMUTABLE_LIST__@@",Wr=Pr.prototype;Wr[Br]=!0,Wr[ye]=Wr.remove,Wr.setIn=wr.setIn,Wr.removeIn=wr.removeIn,Wr.update=wr.update,Wr.updateIn=wr.updateIn,Wr.withMutations=wr.withMutations,Wr.asMutable=wr.asMutable,Wr.asImmutable=wr.asImmutable,Wr.wasAltered=wr.wasAltered;var Jr=function(t,e){this.array=t,this.ownerID=e},Nr=Jr;de.createClass(Jr,{removeBefore:function(t,e,r){if(r===e?1<<e:0||0===this.array.length)return this;var n=r>>>e&we;if(n>=this.array.length)return new Nr([],t);var i,s=0===n;if(e>0){var u=this.array[n];if(i=u&&u.removeBefore(t,e-ge,r),i===u&&s)return this}if(s&&!i)return this;var o=Yt(this,t);if(!s)for(var a=0;n>a;a++)o.array[a]=void 0;return i&&(o.array[n]=i),o},removeAfter:function(t,e,r){if(r===e?1<<e:0||0===this.array.length)return this;var n=r-1>>>e&we;if(n>=this.array.length)return this;var i,s=n===this.array.length-1;if(e>0){var u=this.array[n];if(i=u&&u.removeAfter(t,e-ge,r),i===u&&s)return this}if(s&&!i)return this;var o=Yt(this,t);return s||o.array.pop(),i&&(o.array[n]=i),o}},{});var Hr=function(t,e,r){this._type=e,this._reverse=!!r,this._maxIndex=t.size-1;var n=Zt(t._capacity),i=Jt(t._root&&t._root.array,t._level,-t._origin,n-t._origin-1),s=Jt(t._tail&&t._tail.array,0,n-t._origin,t._capacity-t._origin-1);this._stack=r?s:i,this._stack.__prev=r?i:s};de.createClass(Hr,{next:function(){for(var t=this._stack;t;){var e=t.array,r=t.index++;if(this._reverse&&(r=we-r,r>t.rawMax&&(r=t.rawMax,t.index=me-r)),r>=0&&me>r&&r<=t.rawMax){var n=e&&e[r];if(0===t.level){var i,s=this._type;return 1!==s&&(i=t.offset+(r<<t.level),this._reverse&&(i=this._maxIndex-i)),b(s,i,n)}this._stack=t=Jt(n&&n.array,t.level-ge,t.offset+(r<<t.level),t.max,t)}else t=this._stack=this._stack.__prev}return I()}},{},Te);var Vr,Fr=function(t){return null===t||void 0===t?ee():$t(t)?t:ee().merge(Fe(t))};de.createClass(Fr,{toString:function(){return this.__toString("OrderedMap {","}")},get:function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},clear:function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):ee()},set:function(t,e){return re(this,t,e)},remove:function(t){return re(this,t,Se)},wasAltered:function(){return this._map.wasAltered()||this._list.wasAltered()},__iterate:function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},__iterator:function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?te(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)}},{of:function(){return this(arguments)}},gr),Fr.isOrderedMap=$t;var Yr="@@__IMMUTABLE_ORDERED_MAP__@@";Fr.prototype[Yr]=!0,Fr.prototype[ye]=Fr.prototype.remove;var Qr,Xr=function(t){return null===t||void 0===t?se():ne(t)?t:se().unshiftAll(t)},Gr=Xr;de.createClass(Xr,{toString:function(){return this.__toString("Stack [","]")},get:function(t,e){for(var r=this._head;r&&t--;)r=r.next;return r?r.value:e},peek:function(){return this._head&&this._head.value},push:function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):ie(t,e)},pushAll:function(t){if(t=Qe(t),0===t.size)return this;var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):ie(e,r)},pop:function(){return this.slice(1)},unshift:function(){return this.push.apply(this,arguments)},unshiftAll:function(t){return this.pushAll(t)},shift:function(){return this.pop.apply(this,arguments)},clear:function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):se()},slice:function(t,e){if(v(t,e,this.size))return this;var r=l(t,this.size),n=p(e,this.size);if(n!==this.size)return de.superCall(this,Gr.prototype,"slice",[t,e]);for(var i=this.size-r,s=this._head;r--;)s=s.next;return this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):ie(i,s)},__ensureOwner:function(t){return t===this.__ownerID?this:t?ie(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},__iterate:function(t,e){if(e)return this.toSeq().cacheResult.__iterate(t,e);for(var r=0,n=this._head;n&&t(n.value,r++,this)!==!1;)n=n.next;return r},__iterator:function(t,e){if(e)return this.toSeq().cacheResult().__iterator(t,e);var r=0,n=this._head;return new Te(function(){if(n){var e=n.value;return n=n.next,b(t,r++,e)}return I()})}},{of:function(){return this(arguments)}},lr),Xr.isStack=ne;var Zr="@@__IMMUTABLE_STACK__@@",$r=Xr.prototype;$r[Zr]=!0,$r.withMutations=wr.withMutations,$r.asMutable=wr.asMutable,$r.asImmutable=wr.asImmutable,$r.wasAltered=wr.wasAltered;var tn,en=function(t){return null===t||void 0===t?he():ue(t)?t:he().union(Xe(t))};de.createClass(en,{toString:function(){return this.__toString("Set {","}")},has:function(t){return this._map.has(t)},add:function(t){return oe(this,this._map.set(t,!0))},remove:function(t){return oe(this,this._map.remove(t))},clear:function(){return oe(this,this._map.clear())},union:function(){var t=arguments;return 0===t.length?this:this.withMutations(function(e){for(var r=0;r<t.length;r++)Xe(t[r]).forEach(function(t){return e.add(t)})})},intersect:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return Xe(t)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.every(function(t){return t.contains(r)})||e.remove(r)})})},subtract:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return this;t=t.map(function(t){return Xe(t)});var r=this;return this.withMutations(function(e){r.forEach(function(r){t.some(function(t){return t.contains(r)})&&e.remove(r)})})},merge:function(){return this.union.apply(this,arguments)},mergeWith:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return this.union.apply(this,e)},sort:function(t){return un(At(this,t))},sortBy:function(t,e){return un(At(this,e,t))},wasAltered:function(){return this._map.wasAltered()},__iterate:function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},__iterator:function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)}},{of:function(){return this(arguments)},fromKeys:function(t){return this(Fe(t).keySeq())}},dr),en.isSet=ue;var rn="@@__IMMUTABLE_SET__@@",nn=en.prototype;nn[rn]=!0,nn[ye]=nn.remove,nn.mergeDeep=nn.merge,nn.mergeDeepWith=nn.mergeWith,nn.withMutations=wr.withMutations,nn.asMutable=wr.asMutable,nn.asImmutable=wr.asImmutable,nn.__empty=he,nn.__make=ae;var sn,un=function(t){return null===t||void 0===t?_e():ce(t)?t:_e().union(Xe(t))};de.createClass(un,{toString:function(){return this.__toString("OrderedSet {","}")}},{of:function(){return this(arguments)},fromKeys:function(t){return this(Fe(t).keySeq())}},en),un.isOrderedSet=ce;var on="@@__IMMUTABLE_ORDERED_SET__@@",an=un.prototype;an[on]=!0,an.__empty=_e,an.__make=fe;var hn,cn=function(t,e){var r=function(t){return this instanceof r?void(this._map=gr(t)):new r(t)},n=Object.keys(t),s=r.prototype=Object.create(fn);s.constructor=r,e&&(s._name=e),s._defaultValues=t,s._keys=n,s.size=n.length;try{n.forEach(function(t){Object.defineProperty(r.prototype,t,{get:function(){return this.get(t)},set:function(e){i(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})})}catch(u){}return r};de.createClass(cn,{toString:function(){return this.__toString(le(this)+" {","}")},has:function(t){return this._defaultValues.hasOwnProperty(t)},get:function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},clear:function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=Object.getPrototypeOf(this).constructor;return t._empty||(t._empty=ve(this,rt()))},set:function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+le(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:ve(this,r)},remove:function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:ve(this,e)},wasAltered:function(){return this._map.wasAltered()},__iterator:function(t,e){var r=this;return Fe(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},__iterate:function(t,e){var r=this;return Fe(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},__ensureOwner:function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?ve(this,e,t):(this.__ownerID=t,this._map=e,this)}},{},_r);var fn=cn.prototype;fn[ye]=fn.remove,fn.merge=wr.merge,fn.mergeWith=wr.mergeWith,fn.mergeDeep=wr.mergeDeep,fn.mergeDeepWith=wr.mergeDeepWith,fn.update=wr.update,fn.updateIn=wr.updateIn,fn.withMutations=wr.withMutations,fn.asMutable=wr.asMutable,fn.asImmutable=wr.asImmutable;var _n=function(t,e,r){return this instanceof vn?(i(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),t===e&&pn?pn:(r=void 0===r?1:Math.abs(r),t>e&&(r=-r),this._start=t,this._end=e,this._step=r,void(this.size=Math.max(0,Math.ceil((e-t)/r-1)+1)))):new vn(t,e,r)},vn=_n;de.createClass(_n,{toString:function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},get:function(t,e){return this.has(t)?this._start+f(this,t)*this._step:e},contains:function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},slice:function(t,e){return v(t,e,this.size)?this:(t=l(t,this.size),e=p(e,this.size),t>=e?pn:new vn(this.get(t,this._end),this.get(e,this._end),this._step))},indexOf:function(t){var e=t-this._start;if(e%this._step===0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},lastIndexOf:function(t){return this.indexOf(t)},take:function(t){return this.slice(0,Math.max(0,t))},skip:function(t){return this.slice(Math.max(0,t))},__iterate:function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,s=0;r>=s;s++){if(t(i,s,this)===!1)return s+1;i+=e?-n:n}return s},__iterator:function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,s=0;return new Te(function(){var u=i;return i+=e?-n:n,s>r?I():b(t,s++,u)})},__deepEquals:function(t){return t instanceof vn?this._start===t._start&&this._end===t._end&&this._step===t._step:de.superCall(this,vn.prototype,"__deepEquals",[t])}},{},er);var ln=_n.prototype;ln.__toJS=ln.toArray,ln.first=Wr.first,ln.last=Wr.last;var pn=_n(0,0),dn=function(t,e){return 0>=e&&mn?mn:this instanceof yn?(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),void(0===this.size&&(mn=this))):new yn(t,e)},yn=dn;de.createClass(dn,{toString:function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},get:function(t,e){return this.has(t)?this._value:e},contains:function(t){return n(this._value,t)},slice:function(t,e){var r=this.size;return v(t,e,r)?this:new yn(this._value,p(e,r)-l(t,r))},reverse:function(){return this},indexOf:function(t){return n(this._value,t)?0:-1},lastIndexOf:function(t){return n(this._value,t)?this.size:-1},__iterate:function(t,e){for(var r=0;r<this.size;r++)if(t(this._value,r,this)===!1)return r+1;return r},__iterator:function(t,e){var r=this,n=0;return new Te(function(){return n<r.size?b(t,n++,r._value):I()})},__deepEquals:function(t){return t instanceof yn?n(this._value,t._value):de.superCall(this,yn.prototype,"__deepEquals",[t])}},{},er);var gn=dn.prototype;gn.last=gn.first,gn.has=ln.has,gn.take=ln.take,gn.skip=ln.skip,gn.__toJS=ln.__toJS;var mn,wn={Iterable:Be,Seq:Ge,Collection:fr,Map:gr,OrderedMap:Fr,List:Pr,Stack:Xr,Set:en,OrderedSet:un,Record:cn,Range:_n,Repeat:dn,is:n,fromJS:Y};return wn}"object"==typeof n?r.exports=i():"function"==typeof t&&t.amd?t(i):Immutable=i()},{}],5:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],6:[function(t,e,r){(function(r){"use strict";function n(t){var e=this;return t=t||{},this instanceof n?(this.key=t.key||w.generateRandomKey(),this.current=t.data,l(this.current)&&this.current||(this.current=d.fromJS(this.current||{})),t.history&&(this.history=d.List.of(this.current),this._currentRevision=0),this._pathListeners=[],this.on("swap",function(t,r,n){f(e._pathListeners,c(n)).forEach(function(e){e.forEach(function(e){"function"==typeof e&&e(t,r,n)})})}),void g.call(this,arguments)):new n(t)}function i(t,e){return function(r,n,i){var s=e.apply(e,arguments);return t.history&&r!==n?(t.history=t.history.take(++t._currentRevision).push(t.current),s):s}}function s(t,e){return function(r,n,i){var s=e.apply(e,arguments);return r===n?s:(t.emit("swap",s,n,i),S(t,s,n,i),s)}}function u(t,e){return function(r,n,i){var s=e.apply(e,arguments);if(r===n)return s;var u=a(r,n,i);return u.eventName&&t.emit.apply(t,[u.eventName].concat(u.args)),s}}function o(t,e,r,n){r&&r.forEach(function(r){if(!n||r!==n){var i=t._pathListeners[e].indexOf(r);t._pathListeners[e].splice(i,1)}})}function a(t,e,r){var n,i,s=e&&e.getIn(r),u=t&&t.getIn(r),o=e&&h(e,r),a=t&&h(t,r);return o&&!a?(i="delete",n=[r,s]):o&&a?(i="change",n=[r,u,s]):!o&&a&&(i="add",n=[r,u]),{eventName:i,args:n}}function h(t,e){return t.hasIn?t.hasIn(e):t.getIn(e,b)!==b}function c(t){var e="global";return t&&t.length?[e].concat(t).join("|"):e}function f(t,e){var r=[];for(var n in t)t.hasOwnProperty(n)&&0===e.indexOf(n)&&r.push(t[n]);return r}function _(t,e){return function(r,n,i){var s=a(r,n,i);if(s.eventName===t)return e(r,n,i)}}function v(t){return t&&"function"==typeof t.deref}function l(t){return p("Iterable","isIterable",t)||p("Seq","isSeq",t)||p("Map","isMap",t)||p("OrderedMap","isOrderedMap",t)||p("List","isList",t)||p("Stack","isStack",t)||p("Set","isSet",t)}function p(t,e,r){return d[t]&&d[t][e]&&d[t][e](r)}var d="undefined"!=typeof window?window.Immutable:"undefined"!=typeof r?r.Immutable:null,y=t("immutable/contrib/cursor"),g=t("eventemitter3").EventEmitter,m=t("inherits"),w=t("./utils");m(n,g),e.exports=n,n.prototype.cursor=function(t){var e=this;if(t=t||[],!this.current)throw new Error("No structure loaded.");var r=function(t,r,n){return e.current===r?e.current=t:h(t,n)?e.current=e.current.setIn(n,t.getIn(n)):e.current=e.current.removeIn(n),e.current};return r=i(this,r),r=s(this,r),r=u(this,r),y.from(e.current,t,r)},n.prototype.reference=function(t){v(t)&&t._keyPath&&(t=t._keyPath);var e=this,r=c(t),n=e._pathListeners[r],i=this.cursor(t),s=function(r,n,s){i=e.cursor(t)},u=[s];return this._pathListeners[r]=n?n.concat(s):u,{observe:function(t,n){return"function"==typeof t&&(n=t,t=void 0),this._dead||"function"!=typeof n?void 0:(t&&"swap"!==t&&(n=_(t,n)),e._pathListeners[r]=e._pathListeners[r].concat(n),u=u.concat(n),function(){var t=e._pathListeners[r].indexOf(n),i=u.indexOf(n);u[i]===n&&u.splice(i,1),e._pathListeners[r]&&e._pathListeners[r][t]===n&&e._pathListeners[r].splice(t,1)})},cursor:function(t){return t?i.cursor(t):i},unobserveAll:function(){o(e,r,u,s),u=[s]},destroy:function(){o(e,r,u),u=void 0,i=void 0,this._dead=!0,this.observe=void 0,this.unobserveAll=void 0,this.cursor=void 0,this.destroy=void 0}}},n.prototype.forceHasSwapped=function(t,e,r){this.emit("swap",t||this.current,e,r),S(this,t||this.current,e,r)},n.prototype.undo=function(t){return this._currentRevision-=t||1,this._currentRevision<0&&(this._currentRevision=0),this.current=this.history.get(this._currentRevision),this.current},n.prototype.redo=function(t){return this._currentRevision+=t||1,this._currentRevision>this.history.count()-1&&(this._currentRevision=this.history.count()-1),this.current=this.history.get(this._currentRevision),this.current},n.prototype.undoUntil=function(t){return this._currentRevision=this.history.indexOf(t),
this.current=t,t};var S=function(){var t=!1;return"function"!=typeof requestAnimationFrame?function(){}:function(e,r,n){t||(t=!0,requestAnimationFrame(function(){t=!1,e.emit("next-animation-frame",r,n)}))}}(),b={}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./utils":7,eventemitter3:2,"immutable/contrib/cursor":3,inherits:5}],7:[function(t,e,r){"use strict";e.exports.generateRandomKey=function(t){return t=t||10,Math.random().toString(36).substring(2).substring(0,t)}},{}]},{},[1])(1)});